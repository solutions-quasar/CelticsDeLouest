<!DOCTYPE html>
<html lang="fr">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Celtics ERP | Administration</title>
    <script>
        // Force trailing slash to ensure relative paths working correctly
        if (window.location.pathname.endsWith('/admin-erp')) {
            window.location.replace(window.location.pathname + '/');
        }
    </script>
    <link rel="icon" type="image/png" href="../images/favicon.png">

    <!-- Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Outfit:wght@300;400;500;600;700&display=swap" rel="stylesheet">

    <!-- FontAwesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">

    <!-- Custom CSS -->
    <link rel="stylesheet" href="./style.css">
    <link rel="stylesheet" href="./style_calendar.css">

    <!-- Firebase SDKs (Module) -->
    <script type="importmap">
        {
          "imports": {
            "firebase/app": "https://www.gstatic.com/firebasejs/10.7.1/firebase-app.js",
            "firebase/firestore": "https://www.gstatic.com/firebasejs/10.7.1/firebase-firestore.js",
            "firebase/storage": "https://www.gstatic.com/firebasejs/10.7.1/firebase-storage.js",
            "firebase/auth": "https://www.gstatic.com/firebasejs/10.7.1/firebase-auth.js",
            "firebase/analytics": "https://www.gstatic.com/firebasejs/10.7.1/firebase-analytics.js"
          }
        }
    </script>
    <!-- FullCalendar -->
    <script src='https://cdn.jsdelivr.net/npm/fullcalendar@6.1.10/index.global.min.js'></script>

    <!-- Quill Rich Text Editor -->
    <link href="https://cdn.quilljs.com/1.3.6/quill.snow.css" rel="stylesheet">
    <script src="https://cdn.quilljs.com/1.3.6/quill.js"></script>

    <script>
        // French translation for FullCalendar
        document.addEventListener('DOMContentLoaded', function () {
            // It will be initialized in app.js
        });
    </script>
</head>

<body>

    <div id="app">
        <!-- Initial Loading Screen -->
        <div id="init-loader" class="screen active"
            style="background:white; color:var(--primary); display: flex; flex-direction: column; align-items: center; justify-content: center; position: fixed; top: 0; left: 0; width: 100%; height: 100%; z-index: 9999;">
            <div style="text-align: center;">
                <img src="../images/logo.png" alt="Celtics Logo"
                    style="height: 120px; margin-bottom: 30px; animation: pulse 2s infinite;">
                <div style="font-size: 3rem; margin-bottom: 20px;">
                    <i class="fas fa-circle-notch fa-spin"></i>
                </div>
                <h2 style="font-weight: 500; font-size: 1.5rem; color: var(--text-dark);">Chargement...</h2>
            </div>
        </div>

        <!-- Auth Screen -->
        <div id="auth-screen" class="screen">
            <div class="login-box">
                <div class="logo-area">
                    <img src="../images/logo.png" alt="Celtics Logo">
                    <h1>Celtics ERP</h1>
                </div>
                <form id="login-form">
                    <div class="input-group">
                        <i class="fas fa-envelope"></i>
                        <input type="email" id="email" placeholder="Courriel administrateur" required>
                    </div>
                    <div class="input-group">
                        <i class="fas fa-lock"></i>
                        <input type="password" id="password" placeholder="Mot de passe" required>
                    </div>
                    <div class="auth-options" style="text-align: left; margin-bottom: 20px; font-size: 0.9rem;">
                        <div style="margin-bottom: 8px;">
                            <input type="checkbox" id="remember-email">
                            <label for="remember-email">Se souvenir de l'email</label>
                        </div>
                        <div>
                            <input type="checkbox" id="remember-me">
                            <label for="remember-me">Rester connecté</label>
                        </div>
                    </div>
                    <button type="submit" class="btn-login"><i class="fas fa-sign-in-alt"></i> Connexion</button>
                    <div style="margin-top: 15px;">
                        <a href="#" id="forgot-password" style="color: var(--primary); font-size: 0.9rem;">Mot de passe
                            oublié ?</a>
                    </div>
                    <p id="login-error" class="error-msg"></p>
                </form>
            </div>
        </div>

        <!-- Dashboard Screen -->
        <div id="dashboard-screen" class="screen">
            <aside class="sidebar">
                <div class="sidebar-header">
                    <img src="../images/logo.png" alt="Logo">
                    <span>Admin</span>
                </div>
                <nav class="sidebar-nav">
                    <button class="nav-btn active" data-target="view-dashboard"><i class="fas fa-home"></i> Tableau de
                        bord</button>
                    <button class="nav-btn" data-target="view-teams"><i class="fas fa-users"></i> Gestion
                        Équipes</button>
                    <button class="nav-btn" data-target="view-players"><i class="fas fa-user-friends"></i>
                        Joueurs</button>
                    <button class="nav-btn" data-target="view-coaches"><i class="fas fa-stopwatch"></i> Coachs</button>
                    <button class="nav-btn" data-target="view-referees"><i class="fas fa-gavel"></i> Arbitres</button>
                    <button class="nav-btn" data-target="view-matches"><i class="fas fa-futbol"></i> Matchs</button>
                    <button class="nav-btn" data-target="view-fields"><i class="fas fa-map-marker-alt"></i>
                        Terrains</button>
                    <button class="nav-btn" data-target="view-inventory"><i class="fas fa-clipboard-list"></i>
                        Inventaire</button>
                    <button class="nav-btn" data-target="view-registrations"><i class="fas fa-file-signature"></i> Liste
                        des inscrits</button>
                    <button class="nav-btn" data-target="view-seasons"><i class="fas fa-calendar-week"></i>
                        Saisons</button>
                    <button class="nav-btn" data-target="view-sponsors"><i class="fas fa-handshake"></i>
                        Commanditaires</button>
                    <button class="nav-btn" data-target="view-board"><i class="fas fa-users-cog"></i> C.A.</button>
                    <button class="nav-btn" data-target="view-boutique"><i class="fas fa-store"></i> Boutique</button>
                    <button class="nav-btn" data-target="view-automations"><i class="fas fa-robot"></i>
                        Automatisations</button>
                    <button class="nav-btn" data-target="view-settings"><i class="fas fa-cogs"></i>
                        Configuration</button>
                    <button class="nav-btn" data-target="view-admins" id="nav-admins-btn" style="display:none;"><i
                            class="fas fa-users-cog"></i> Utilisateurs</button>
                </nav>
                <div class="sidebar-footer">
                    <button id="logout-btn"><i class="fas fa-sign-out-alt"></i> Déconnexion</button>
                </div>
            </aside>

            <main class="main-content">
                <header class="top-bar">
                    <div class="left-top-bar">
                        <button id="mobile-menu-btn"><i class="fas fa-bars"></i></button>
                        <h2 id="page-title">Tableau de bord</h2>
                    </div>

                    <div class="search-container">
                        <div class="search-input-wrapper">
                            <i class="fas fa-search"></i>
                            <input type="text" id="global-search-input" placeholder="Recherche globale...">
                            <button id="clear-search" style="display:none;"><i class="fas fa-times"></i></button>
                        </div>
                        <div id="global-search-results" class="search-results-overlay"></div>
                    </div>

                    <div class="user-info">
                        <span id="user-email">admin@celtics.com</span>
                        <div class="avatar"><i class="fas fa-user"></i></div>
                    </div>
                </header>

                <div id="content-area">
                    <!-- Views will be injected here -->

                    <!-- Dashboard Home -->
                    <div id="view-dashboard" class="view active">


                        <div class="dashboard-monitoring"
                            style="display: grid; grid-template-columns: repeat(auto-fit, minmax(400px, 1fr)); gap: 20px; margin-top: 30px;">
                            <!-- Active Players List Button -->
                            <div class="card dashboard-btn-card" id="dashboard-players-card"
                                style="cursor: pointer; display: flex; align-items: center; justify-content: center; min-height: 200px; background: linear-gradient(135deg, var(--white) 0%, #f9fafb 100%); transition: transform 0.3s ease, box-shadow 0.3s ease;">
                                <div class="card-body" style="text-align: center;">
                                    <div class="dash-icon-wrapper"
                                        style="width: 60px; height: 60px; background: #e8f5e9; color: var(--primary); border-radius: 50%; display: flex; align-items: center; justify-content: center; margin: 0 auto 15px; font-size: 1.5rem;">
                                        <i class="fas fa-user-friends"></i>
                                    </div>
                                    <h3 style="margin-bottom: 5px;">Joueurs de la saison</h3>
                                    <p id="dash-players-count" style="color: #666; font-size: 0.9rem;">Chargement...</p>
                                </div>
                            </div>

                            <!-- Coach Alerts -->
                            <div class="card">
                                <div class="card-header">
                                    <h3 style="color: #e67e22;"><i class="fas fa-exclamation-triangle"></i> Alertes
                                        Coachs (Enquête)</h3>
                                </div>
                                <div class="card-body">
                                    <div id="dash-coach-alerts"
                                        style="display: flex; flex-direction: column; gap: 10px;">
                                        <p style="text-align:center;">Chargement des alertes...</p>
                                    </div>
                                </div>
                            </div>

                            <!-- Referee Stats -->
                            <div class="card">
                                <div class="card-header">
                                    <h3><i class="fas fa-whistle"></i> Activité des Arbitres</h3>
                                </div>
                                <div class="card-body">
                                    <div class="table-container">
                                        <table>
                                            <thead>
                                                <tr>
                                                    <th>Arbitre</th>
                                                    <th>Matchs (Saison)</th>
                                                </tr>
                                            </thead>
                                            <tbody id="dash-ref-stats">
                                                <tr>
                                                    <td colspan="2" style="text-align:center;">Chargement...</td>
                                                </tr>
                                            </tbody>
                                        </table>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Teams View -->
                    <!-- Teams View -->
                    <div id="view-teams" class="view">
                        <div class="card">
                            <div class="card-header">
                                <h3>Gestion des Équipes</h3>
                                <div class="header-actions-group">
                                    <select id="team-filter-season"
                                        style="padding: 6px 12px; border: 1px solid #ddd; border-radius: 8px; font-size: 0.9rem; min-width: 150px;"></select>
                                    <button class="view-toggle-btn active" data-view="grid" data-target="teams-list"><i
                                            class="fas fa-th-large"></i></button>
                                    <button class="view-toggle-btn" data-view="list" data-target="teams-list"><i
                                            class="fas fa-list"></i></button>

                                    <button class="btn-action" id="open-team-modal"><i class="fas fa-plus"></i>
                                        Ajouter</button>
                                </div>
                            </div>
                            <div class="card-body">
                                <div class="product-grid" id="teams-list">
                                    <p>Chargement...</p>
                                </div>

                            </div>
                        </div>
                    </div>



                    <!-- Players View (new module) -->
                    <div id="view-players" class="view">
                        <div class="card">
                            <div class="card-header">
                                <h3>Gestion des Joueurs</h3>
                                <div class="header-actions-group">
                                    <div class="search-box"
                                        style="display: flex; align-items: center; background: #fff; border: 1px solid #ddd; border-radius: 8px; padding: 4px 12px; margin-right: 15px;">
                                        <i class="fas fa-search" style="color: #999; margin-right: 8px;"></i>
                                        <input type="text" id="player-search" placeholder="Rechercher un joueur..."
                                            style="border: none; outline: none; font-size: 0.9rem; width: 200px; padding: 4px 0;">
                                    </div>
                                    <button class="view-toggle-btn active" data-view="grid"
                                        data-target="players-directory-list"><i class="fas fa-th-large"></i></button>
                                    <button class="view-toggle-btn" data-view="list"
                                        data-target="players-directory-list"><i class="fas fa-list"></i></button>
                                    <button class="btn-action" id="open-player-modal-directory"><i
                                            class="fas fa-plus"></i></button>
                                </div>
                            </div>
                            <div class="card-body">
                                <div class="table-container">
                                    <table id="players-directory-table">
                                        <thead>
                                            <tr>
                                                <th>Nom</th>
                                                <th>Prénom</th>
                                                <th>Équipe</th>
                                                <th>Date Naissance</th>
                                                <th>Parent</th>
                                                <th>Actions</th>
                                            </tr>
                                        </thead>
                                        <tbody id="players-directory-tbody">
                                            <!-- JS Will Populate -->
                                        </tbody>
                                    </table>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Boutique View -->
                    <div id="view-boutique" class="view">
                        <div class="card">
                            <div class="card-header">
                                <h3>Gestion Boutique</h3>
                                <div class="header-actions-group">
                                    <button class="view-toggle-btn active" data-view="grid"
                                        data-target="products-list"><i class="fas fa-th-large"></i></button>
                                    <button class="view-toggle-btn" data-view="list" data-target="products-list"><i
                                            class="fas fa-list"></i></button>
                                    <button class="btn-action" id="open-product-modal"><i
                                            class="fas fa-plus"></i></button>
                                </div>
                            </div>
                            <div class="card-body">
                                <div class="modal-tabs" style="justify-content: flex-start; margin-bottom: 20px;">
                                    <div class="tab-link active" data-tab="tab-products"><i class="fas fa-tshirt"></i>
                                        Produits</div>
                                    <div class="tab-link" data-tab="tab-boutique-config"><i class="fas fa-cog"></i>
                                        Configuration</div>
                                </div>

                                <div id="tab-products" class="tab-content active">
                                    <div class="header-actions-group" style="margin-bottom:15px;">
                                        <button class="view-toggle-btn active" data-view="grid"
                                            data-target="products-list"><i class="fas fa-th-large"></i></button>
                                        <button class="view-toggle-btn" data-view="list" data-target="products-list"><i
                                                class="fas fa-list"></i></button>
                                        <button class="btn-action" id="open-product-modal"><i class="fas fa-plus"></i>
                                            Ajouter</button>
                                    </div>
                                    <div class="product-grid" id="products-list">
                                        <!-- JS will populate -->
                                    </div>
                                </div>

                                <div id="tab-boutique-config" class="tab-content">
                                    <div class="form-group">
                                        <label>Lien vers la boutique en ligne</label>
                                        <div style="display:flex; gap:10px;">
                                            <input type="url" id="boutique-link" class="form-control"
                                                placeholder="https://..." style="width:100%;">
                                            <button class="btn-save" id="save-boutique-btn"><i class="fas fa-save"></i>
                                                Sauvegarder</button>
                                        </div>
                                    </div>
                                    <div class="form-group">
                                        <label>Texte descriptif (Page Boutique)</label>
                                        <!-- Editor Toolbar -->
                                        <div id="boutique-editor-toolbar">
                                            <span class="ql-formats">
                                                <button class="ql-bold"></button>
                                                <button class="ql-italic"></button>
                                                <button class="ql-underline"></button>
                                            </span>
                                            <span class="ql-formats">
                                                <select class="ql-color"></select>
                                                <button class="ql-list" value="bullet"></button>
                                            </span>
                                        </div>
                                        <div id="boutique-editor" style="height: 250px; background: white;"></div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Inventory View -->
                    <div id="view-inventory" class="view">
                        <div class="card">
                            <div class="card-header">
                                <h3>Inventaire Matériel</h3>
                                <div class="header-actions-group">
                                    <button class="view-toggle-btn active" data-view="grid"
                                        data-target="inventory-container-div"><i class="fas fa-th-large"></i></button>
                                    <button class="view-toggle-btn" data-view="list"
                                        data-target="inventory-container-div"><i class="fas fa-list"></i></button>
                                    <button class="btn-action" id="open-inventory-batch-modal"
                                        style="margin-right: 5px; background: var(--secondary);"><i
                                            class="fas fa-layer-group"></i> Créer un lot</button>
                                    <button class="btn-action" id="open-inventory-modal"><i
                                            class="fas fa-plus"></i></button>
                                </div>
                            </div>
                            <div class="card-body">
                                <div class="table-container">
                                    <table id="inventory-table">
                                        <thead>
                                            <tr>
                                                <th>Article</th>
                                                <th>Catégorie</th>
                                                <th>Quantité</th>
                                                <th>État</th>
                                                <th>Actions</th>
                                            </tr>
                                        </thead>
                                        <tbody>
                                            <!-- JS will populate -->
                                        </tbody>
                                    </table>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- BOARD VIEW -->
                    <div id="view-board" class="view">
                        <div class="card">
                            <div class="card-header">
                                <h3>Conseil d'Administration</h3>
                                <div class="header-actions-group">
                                    <button class="view-toggle-btn active" data-view="grid" data-target="board-list"><i
                                            class="fas fa-th-large"></i></button>
                                    <button class="view-toggle-btn" data-view="list" data-target="board-list"><i
                                            class="fas fa-list"></i></button>
                                    <button class="btn-action" id="open-board-modal"><i
                                            class="fas fa-plus"></i></button>
                                </div>
                            </div>
                            <div class="card-body">
                                <div class="product-grid" id="board-list">
                                    <!-- JS Will Populate -->
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- REFEREES VIEW -->
                    <div id="view-referees" class="view">
                        <div class="card">
                            <div class="card-header">
                                <h3>Gestion des Arbitres</h3>
                                <div class="header-actions-group">
                                    <button class="view-toggle-btn active" data-view="grid"
                                        data-target="referees-list"><i class="fas fa-th-large"></i></button>
                                    <button class="view-toggle-btn" data-view="list" data-target="referees-list"><i
                                            class="fas fa-list"></i></button>
                                    <button class="btn-action" id="open-referee-modal"><i
                                            class="fas fa-plus"></i></button>
                                </div>
                            </div>
                            <div class="card-body">
                                <div class="product-grid" id="referees-list">
                                    <!-- JS Will Populate -->
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- REGISTRATIONS VIEW -->
                    <div id="view-registrations" class="view">
                        <div class="card">
                            <div class="card-header">
                                <h3>Demandes d'inscription</h3>
                                <div class="header-actions-group">
                                    <div class="filter-group"
                                        style="display:flex; gap:10px; align-items:center; margin-right:15px;">
                                        <select id="reg-filter-team" class="form-control"
                                            style="max-width:200px; padding:6px; border:1px solid #ddd; border-radius:4px;">
                                            <option value="all">Toutes équipes</option>
                                        </select>
                                        <input type="text" id="reg-search" placeholder="Rechercher..."
                                            style="padding:6px; border:1px solid #ddd; border-radius:4px;">
                                    </div>
                                    <button class="btn-action" id="open-registration-modal"><i class="fas fa-plus"></i>
                                        Nouvelle</button>
                                </div>
                            </div>
                            <div class="card-body">
                                <div class="table-container">
                                    <table id="registrations-table">
                                        <thead>
                                            <tr>
                                                <th>Date</th>
                                                <th>Enfant</th>
                                                <th>Programme</th>
                                                <th>Parent</th>
                                                <th>Actions</th>
                                            </tr>
                                        </thead>
                                        <tbody>
                                            <!-- JS Will Populate -->
                                        </tbody>
                                    </table>
                                </div>
                            </div>
                        </div>
                    </div>



                    <!-- COACHS VIEW -->
                    <div id="view-coaches" class="view">
                        <div class="card">
                            <div class="card-header">
                                <h3>Gestion des Entraîneurs</h3>
                                <div class="header-actions-group">
                                    <button class="view-toggle-btn active" data-view="grid"
                                        data-target="coaches-list"><i class="fas fa-th-large"></i></button>
                                    <button class="view-toggle-btn" data-view="list" data-target="coaches-list"><i
                                            class="fas fa-list"></i></button>
                                    <button class="btn-action" id="open-coach-modal"><i class="fas fa-plus"></i> Ajouter
                                        Coach</button>
                                </div>
                            </div>
                            <div class="card-body">
                                <div id="coaches-list" class="grid-container">
                                    <p>Chargement...</p>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- MATCHS VIEW -->
                    <div id="view-matches" class="view">
                        <div class="card">
                            <div class="card-header">
                                <h3>Calendrier des Matchs (Domicile)</h3>
                                <div class="header-actions-group">
                                    <button class="view-toggle-btn active" data-view="calendar"
                                        data-target="matches-view-container"><i
                                            class="fas fa-calendar-alt"></i></button>
                                    <button class="view-toggle-btn" data-view="list"
                                        data-target="matches-view-container"><i class="fas fa-list"></i></button>
                                    <button class="btn-action" id="open-match-modal"><i class="fas fa-plus"></i>
                                        Ajouter</button>
                                </div>
                            </div>
                            <div class="card-body">
                                <div id="matches-view-container">
                                    <!-- Calendar View -->
                                    <div id="calendar-view" class="sub-view active">
                                        <div id="calendar"></div>
                                    </div>

                                    <!-- List View -->
                                    <div id="matches-list" class="match-grid sub-view" style="display:none;">
                                        <p>Chargement des matchs...</p>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- FIELDS VIEW -->
                    <div id="view-fields" class="view">
                        <div class="card">
                            <div class="card-header">
                                <h3>Gestion des Terrains</h3>
                                <div class="header-actions-group">
                                    <button class="view-toggle-btn active" data-view="grid" data-target="fields-list"><i
                                            class="fas fa-th-large"></i></button>
                                    <button class="view-toggle-btn" data-view="list" data-target="fields-list"><i
                                            class="fas fa-list"></i></button>
                                    <button class="btn-action" id="open-field-modal"><i class="fas fa-plus"></i>
                                        Ajouter</button>
                                </div>
                            </div>
                            <div class="card-body">
                                <div id="fields-list" class="view-grid">
                                    <p>Chargement...</p>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- COMMANDITAIRES VIEW -->
                    <div id="view-sponsors" class="view">
                        <div class="card">
                            <div class="card-header">
                                <h3>Gestion des Commanditaires</h3>
                                <div class="header-actions-group">
                                    <button class="view-toggle-btn active" data-view="grid"
                                        data-target="sponsors-list"><i class="fas fa-th-large"></i></button>
                                    <button class="view-toggle-btn" data-view="list" data-target="sponsors-list"><i
                                            class="fas fa-list"></i></button>
                                    <button class="btn-action" id="open-sponsor-modal"><i class="fas fa-plus"></i>
                                        Ajouter</button>
                                </div>
                            </div>
                            <div class="card-body">
                                <div id="sponsors-list" class="view-grid">
                                    <p>Chargement...</p>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- SEASONS VIEW -->
                    <div id="view-seasons" class="view">
                        <div class="card">
                            <div class="card-header">
                                <h3>Gestion des Saisons</h3>
                                <div class="header-actions-group">
                                    <button class="view-toggle-btn active" data-view="grid"
                                        data-target="seasons-list"><i class="fas fa-th-large"></i></button>
                                    <button class="view-toggle-btn" data-view="list" data-target="seasons-list"><i
                                            class="fas fa-list"></i></button>
                                    <button class="btn-action" id="open-season-modal"><i class="fas fa-plus"></i>
                                        Ajouter</button>
                                </div>
                            </div>
                            <div class="card-body">
                                <div class="product-grid" id="seasons-list">
                                    <p>Chargement des saisons...</p>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- BOUTIQUE VIEW -->
                    <div id="view-boutique" class="view">
                        <div class="card">
                            <div class="card-header">
                                <h3>Gestion de la Boutique</h3>
                                <button class="btn-save" id="save-boutique-btn"><i class="fas fa-save"></i>
                                    Sauvegarder</button>
                            </div>
                            <div class="card-body">
                                <div class="modal-tabs" style="justify-content: flex-start; margin-bottom: 20px;">
                                    <div class="tab-link active" data-tab="tab-products"><i class="fas fa-tshirt"></i>
                                        Produits</div>
                                    <div class="tab-link" data-tab="tab-boutique-config"><i class="fas fa-cog"></i>
                                        Configuration</div>
                                </div>

                                <div id="tab-products" class="tab-content active">
                                    <div class="header-actions-group" style="margin-bottom:15px;">
                                        <button class="view-toggle-btn active" data-view="grid"
                                            data-target="products-list"><i class="fas fa-th-large"></i></button>
                                        <button class="view-toggle-btn" data-view="list" data-target="products-list"><i
                                                class="fas fa-list"></i></button>
                                        <button class="btn-action" id="open-product-modal"><i class="fas fa-plus"></i>
                                            Ajouter</button>
                                    </div>
                                    <div class="product-grid" id="products-list">
                                        <!-- JS will populate -->
                                    </div>
                                </div>

                                <div id="tab-boutique-config" class="tab-content">
                                    <div class="form-group">
                                        <label>Lien vers la boutique en ligne</label>
                                        <div style="display:flex; gap:10px;">
                                            <input type="url" id="boutique-link" class="form-control"
                                                placeholder="https://..." style="width:100%;">
                                        </div>
                                    </div>
                                    <div class="form-group">
                                        <label>Texte descriptif (Page Boutique)</label>
                                        <div id="boutique-editor-toolbar">
                                            <span class="ql-formats">
                                                <button class="ql-bold"></button>
                                                <button class="ql-italic"></button>
                                                <button class="ql-underline"></button>
                                            </span>
                                            <span class="ql-formats">
                                                <select class="ql-color"></select>
                                                <button class="ql-list" value="bullet"></button>
                                            </span>
                                        </div>
                                        <div id="boutique-editor" style="height: 250px; background: white;"></div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- AUTOMATIONS VIEW -->
                    <div id="view-automations" class="view">
                        <div class="card">
                            <div class="card-header">
                                <h3>Automatisations & Communications</h3>
                            </div>
                            <div class="card-body">
                                <div class="modal-tabs" style="justify-content: flex-start; margin-bottom: 20px;">
                                    <div class="tab-link active" data-tab="tab-auto-list"><i class="fas fa-robot"></i>
                                        Automatisations</div>
                                    <div class="tab-link" data-tab="tab-auto-email"><i
                                            class="fas fa-envelope-open-text"></i> Courriels de masse</div>
                                </div>

                                <div id="tab-auto-list" class="tab-content active">
                                    <div class="product-grid" id="automations-list">
                                        <p style="color:#666; font-style:italic;">Aucune automatisation active pour la
                                            saison.</p>
                                    </div>
                                </div>

                                <div id="tab-auto-email" class="tab-content">
                                    <div class="form-group">
                                        <label>Cible</label>
                                        <select id="auto-email-target" class="form-control"
                                            style="width:100%; padding:8px; border-radius:4px; border:1px solid #ddd;">
                                            <option value="all_active">Tous les joueurs actifs (Saison en cours)
                                            </option>
                                            <option value="all_coaches">Tous les coachs</option>
                                            <option value="all_referees">Tous les arbitres</option>
                                            <option value="board">Membres du C.A.</option>
                                        </select>
                                    </div>
                                    <div class="form-group">
                                        <label>Sujet</label>
                                        <input type="text" id="auto-email-subject" class="form-control"
                                            style="width:100%;" placeholder="Sujet du courriel...">
                                    </div>
                                    <div class="form-group">
                                        <label>Message</label>
                                        <textarea id="auto-email-body" rows="10" class="form-control"
                                            style="width:100%; padding:10px; border-radius:4px; border:1px solid #ddd;"
                                            placeholder="Rédigez votre message ici..."></textarea>
                                    </div>
                                    <button class="btn-save" id="send-bulk-email-btn"><i class="fas fa-paper-plane"></i>
                                        Envoyer</button>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- SETTINGS VIEW (Configuration) -->
                    <div id="view-settings" class="view">
                        <div class="card">
                            <div class="card-header">
                                <h3>Configuration & Inscriptions</h3>
                                <button class="btn-save" id="save-settings-btn"><i class="fas fa-save"></i>
                                    Sauvegarder Tout</button>
                            </div>
                            <div class="card-body">
                                <!-- Status Section -->
                                <div class="form-group"
                                    style="background: #f8f9fa; padding: 15px; border-radius: 8px; border-left: 5px solid var(--secondary);">
                                    <label
                                        style="display:flex; align-items:center; cursor:pointer; margin-bottom:10px;">
                                        <input type="checkbox" id="reg-status-toggle"
                                            style="width:20px; height:20px; margin-right:10px;">
                                        <span style="font-weight:bold; font-size:1.1rem;">Ouvrir la période
                                            d'inscriptions</span>
                                    </label>
                                    <div style="display:flex; gap:10px; margin-left:30px;">
                                        <select id="reg-target-season" class="form-control"
                                            style="width:120px; padding:5px; border-radius:4px; border:1px solid #ccc;">
                                            <option value="Été">Été</option>
                                            <option value="Hiver">Hiver</option>
                                        </select>
                                        <select id="reg-target-year" class="form-control"
                                            style="width:100px; padding:5px; border-radius:4px; border:1px solid #ccc;">
                                            <option value="2025">2025</option>
                                            <option value="2026">2026</option>
                                            <option value="2027">2027</option>
                                            <option value="2028">2028</option>
                                        </select>
                                    </div>
                                    <p class="text-sm" style="margin-top:10px; color:#666; margin-left:30px;">Cocher
                                        pour
                                        rendre le
                                        formulaire visible sur le site public.</p>
                                </div>

                                <!-- Text Section -->
                                <div class="form-group">
                                    <label>Message d'accueil (Inscriptions)</label>
                                    <div id="editor-toolbar">
                                        <span class="ql-formats">
                                            <select class="ql-header">
                                                <option value="1"></option>
                                                <option value="2"></option>
                                                <option selected></option>
                                            </select>
                                        </span>
                                        <span class="ql-formats">
                                            <button class="ql-bold"></button>
                                            <button class="ql-italic"></button>
                                            <button class="ql-underline"></button>
                                        </span>
                                        <span class="ql-formats">
                                            <select class="ql-color"></select>
                                            <select class="ql-background"></select>
                                        </span>
                                        <span class="ql-formats">
                                            <button class="ql-list" value="ordered"></button>
                                            <button class="ql-list" value="bullet"></button>
                                        </span>
                                        <span class="ql-formats">
                                            <button class="ql-clean"></button>
                                        </span>
                                    </div>
                                    <div id="setting-welcome-msg"
                                        style="height: 200px; background: white; border-bottom-left-radius: 4px; border-bottom-right-radius: 4px;">
                                    </div>
                                </div>

                                <!-- Global Discounts -->
                                <div class="row">
                                    <div class="col-6">
                                        <div class="form-group">
                                            <label>Rabais 2ème enfant ($)</label>
                                            <input type="number" id="setting-discount-2" value="15">
                                        </div>
                                    </div>
                                    <div class="col-6">
                                        <div class="form-group">
                                            <label>Rabais 3ème enfant + ($)</label>
                                            <input type="number" id="setting-discount-3" value="20">
                                        </div>
                                    </div>
                                </div>

                                <hr>

                                <!-- Pricing Grid -->
                                <h4>Grille Tarifaire (Par année de naissance)</h4>
                                <div class="table-container">
                                    <table id="pricing-table">
                                        <thead>
                                            <tr>
                                                <th>Année</th>
                                                <th>Catégorie</th>
                                                <th>Prix ($)</th>
                                                <th>Actions</th>
                                            </tr>
                                        </thead>
                                        <tbody id="pricing-tbody">
                                            <!-- JS Populated -->
                                        </tbody>
                                    </table>
                                    <button class="btn-secondary" id="add-price-row-btn" style="margin-top:10px;"><i
                                            class="fas fa-plus"></i> Ajouter une année</button>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- ADMINS VIEW -->
                    <div id="view-admins" class="view">
                        <div class="card">
                            <div class="card-header">
                                <h3>Gestion des Utilisateurs</h3>
                                <button class="btn-action" id="open-admin-modal"><i class="fas fa-user-plus"></i>
                                    Ajouter Utilisateur</button>
                            </div>
                            <div class="card-body">
                                <div class="table-container">
                                    <table id="admins-table">
                                        <thead>
                                            <tr>
                                                <th>Email</th>
                                                <th>Nom</th>
                                                <th>Rôle</th>
                                                <th>Actions</th>
                                            </tr>
                                        </thead>
                                        <tbody>
                                            <!-- JS Will Populate -->
                                        </tbody>
                                    </table>
                                </div>
                            </div>
                        </div>
                    </div>



                </div>
            </main>
        </div>
    </div>

    <!-- Modals -->
    <!-- Product Modal -->
    <div id="product-modal" class="modal">
        <div class="modal-content">
            <span class="close-modal">&times;</span>
            <h2 id="product-modal-title">Ajouter un produit</h2>
            <form id="product-form">
                <input type="hidden" id="product-id">
                <div class="form-group">
                    <label>Nom du produit</label>
                    <input type="text" id="prod-name" required>
                </div>
                <div class="form-group">
                    <label>Prix ($)</label>
                    <input type="number" id="prod-price" step="0.01" required>
                </div>
                <div class="form-group">
                    <label>Image</label>
                    <input type="file" id="prod-image" accept="image/*">
                    <div id="prod-image-preview" class="image-preview-container image-preview-mt"></div>
                </div>
                <div class="form-group">
                    <label>Description</label>
                    <textarea id="prod-desc" rows="3"></textarea>
                </div>
                <button type="submit" class="btn-save">Enregistrer</button>
                <button type="button" class="btn-close-custom"
                    onclick="document.getElementById('product-modal').classList.remove('active')" style="
                    width: 100%;
                    padding: 12px;
                    background: white;
                    color: var(--primary);
                    border: 2px solid var(--primary);
                    border-radius: 6px;
                    font-size: 1rem;
                    cursor: pointer;
                    margin-top: 10px;
                    font-weight: 600;
                    transition: all 0.3s ease;
                ">Fermer</button>
            </form>
        </div>
    </div>

    <!-- Player Modal -->
    <div id="player-modal" class="modal">
        <div class="modal-content">
            <span class="close-modal">&times;</span>
            <h2>Joueur</h2>
            <form id="player-form">
                <input type="hidden" id="player-id">
                <div class="form-group">
                    <label>Nom Complet</label>
                    <input type="text" id="player-name" required>
                </div>
                <div class="form-group">
                    <label>Année de Naissance</label>
                    <input type="number" id="player-year" required>
                </div>
                <div class="form-group">
                    <label>Niveau (1: Débutant - 10: Expert)</label>
                    <input type="number" id="player-skill" min="1" max="10" value="5" required>
                </div>
                <div class="form-group">
                    <label>Position Préférée</label>
                    <select id="player-pos">
                        <option value="Attaquant">Attaquant</option>
                        <option value="Milieu">Milieu</option>
                        <option value="Défenseur">Défenseur</option>
                        <option value="Gardien">Gardien</option>
                        <option value="Polyvalent">Polyvalent</option>
                    </select>
                </div>
                <div class="form-group">
                    <label>Équipe</label>
                    <select id="player-team">
                        <option value="">-- Aucune --</option>
                    </select>
                </div>
                <div class="form-group">
                    <label>Photo (Optionnel)</label>
                    <input type="file" id="player-image" accept="image/*">
                    <div id="player-image-preview" class="image-preview-container image-preview-mt"></div>
                </div>
                <button type="submit" class="btn-save">Enregistrer</button>
            </form>
        </div>
    </div>

    <!-- Inventory Modal -->
    <div id="inventory-modal" class="modal modal-full">
        <div class="modal-content">
            <span class="close-modal">&times;</span>
            <h2>Article d'Inventaire <span id="inv-batch-badge"
                    style="display:none; font-size: 0.8rem; background: var(--secondary); color: white; padding: 2px 8px; border-radius: 10px; vertical-align: middle;">LOT</span>
            </h2>

            <!-- Tabs Navigation -->
            <div class="modal-tabs">
                <div class="tab-link active" data-tab="tab-inv-details"><i class="fas fa-info-circle"></i> Détails de
                    l'article</div>
                <div class="tab-link" data-tab="tab-inv-stock"><i class="fas fa-boxes"></i> Stock & Distributions</div>
            </div>

            <form id="inventory-form">
                <input type="hidden" id="inv-id">
                <div class="tab-content active" id="tab-inv-details">
                    <div class="form-group">
                        <label>Nom de l'article</label>
                        <input type="text" id="inv-name" required>
                    </div>
                    <div class="form-group">
                        <label>Quantité</label>
                        <input type="number" id="inv-qty" required>
                    </div>
                    <div class="form-group">
                        <label>Image (Optionnel)</label>
                        <input type="file" id="inv-image" accept="image/*">
                        <div id="inv-image-preview" class="image-preview-container image-preview-mt"></div>
                    </div>
                    <!-- Row div closing tag here if it exists, otherwise standard structure -->
                    <div class="row">
                        <div class="col-6">
                            <div class="form-group">
                                <label>Catégorie</label>
                                <select id="inv-cat">
                                    <option value="Ballons">Ballons</option>
                                    <option value="Vêtements">Vêtements</option>
                                    <option value="Entraînement">Matériel d'entraînement</option>
                                    <option value="Terrain">Terrain (Filets, Drapeaux)</option>
                                    <option value="Autre">Autre</option>
                                </select>
                            </div>
                        </div>
                        <div class="col-6">
                            <div class="form-group">
                                <label>État</label>
                                <select id="inv-status">
                                    <option value="Neuf">Neuf</option>
                                    <option value="Bon">Bon</option>
                                    <option value="Usé">Usé</option>
                                    <option value="À remplacer">À remplacer</option>
                                </select>
                            </div>
                        </div>
                    </div>

                    <div class="form-group">
                        <label>Modèle</label>
                        <input type="text" id="inv-model" placeholder="Ex: Nike Vapor">
                    </div>

                    <div class="row">
                        <div class="col-6">
                            <div class="form-group">
                                <label>Taille</label>
                                <select id="inv-size">
                                    <option value="">-- Sélectionner Taille --</option>
                                    <option value="Enfant Petit">Enfant Petit</option>
                                    <option value="Enfant Moyen">Enfant Moyen</option>
                                    <option value="Enfant Large">Enfant Large</option>
                                    <option value="Adulte Petit">Adulte Petit</option>
                                    <option value="Adulte Moyen">Adulte Moyen</option>
                                    <option value="Adulte Large">Adulte Large</option>
                                    <option value="Adulte X-Large">Adulte X-Large</option>
                                    <option value="Adulte XX-Large">Adulte XX-Large</option>
                                </select>
                            </div>
                        </div>
                        <div class="col-6">
                            <div class="form-group">
                                <label>Numéro (si applicable)</label>
                                <input type="number" id="inv-number" placeholder="Ex: 10">
                            </div>
                        </div>
                    </div>
                </div>

                <!-- TAB: STOCK -->
                <div id="tab-inv-stock" class="tab-content">
                    <div class="form-group">
                        <label>Quantité Totale en Stock</label>
                        <input type="number" id="inv-qty-stock" required>
                    </div>

                    <div class="form-group"
                        style="background: #f8f9fa; padding: 20px; border-radius: 12px; margin-top: 20px; border: 1px solid #eee;">
                        <label
                            style="display:flex; justify-content:space-between; align-items:center; margin-bottom: 15px;">
                            <span style="font-weight: 700; font-size: 1.1rem;"><i class="fas fa-hand-holding"></i>
                                Distribution du Stock</span>
                            <span id="inv-stock-remaining"
                                style="font-size: 0.9em; background: var(--primary); color: white; padding: 4px 12px; border-radius: 20px; font-weight: 600;">Stock
                                disponible: -</span>
                        </label>

                        <!-- Add Distribution Form -->
                        <div id="inv-dist-helper-form"
                            style="display: flex; gap: 10px; margin-bottom: 20px; flex-wrap: wrap; background: white; padding: 15px; border-radius: 8px; border: 1px solid #eee;">
                            <div style="flex: 1; min-width: 120px;">
                                <label style="font-size: 0.8rem; color: #666;">Type</label>
                                <select id="dist-type" style="width: 100%;">
                                    <option value="">Type...</option>
                                    <option value="coach">Coach</option>
                                    <option value="player">Joueur</option>
                                </select>
                            </div>
                            <div style="flex: 2; min-width: 180px;">
                                <label style="font-size: 0.8rem; color: #666;">Bénéficiaire</label>
                                <select id="dist-target" style="width: 100%;" disabled>
                                    <option value="">Sélectionner...</option>
                                </select>
                            </div>
                            <div style="width: 80px;">
                                <label style="font-size: 0.8rem; color: #666;">Qté</label>
                                <input type="number" id="dist-qty" placeholder="Qté" min="1" style="width: 100%;">
                            </div>
                            <div style="display: flex; align-items: flex-end;">
                                <button type="button" id="btn-add-dist" class="btn-save"
                                    style="width: 45px; height: 45px; display: flex; align-items: center; justify-content: center; padding: 0;">
                                    <i class="fas fa-plus"></i>
                                </button>
                            </div>
                        </div>

                        <!-- Distributions List -->
                        <label id="inv-dist-label"
                            style="font-size: 0.9rem; font-weight: 600; margin-bottom: 10px; display: block;">Membres
                            ayant reçu cet article :</label>
                        <div id="inv-distributions-list"
                            style="max-height: 250px; overflow-y: auto; background: white; border: 1px solid #eee; border-radius: 8px; padding: 10px;">
                            <p style="color: #888; font-style: italic; font-size: 0.9rem;">Aucune distribution
                                enregistrée.</p>
                        </div>
                    </div>
                </div>

                <div style="margin-top: 40px; border-top: 1px solid #eee; padding-top: 20px;">
                    <button type="submit" class="btn-save">Enregistrer les informations</button>
                    <button type="button" class="btn-close-custom"
                        onclick="document.getElementById('inventory-modal').classList.remove('active')" style="
                        width: 100%;
                        padding: 12px;
                        background: white;
                        color: var(--primary);
                        border: 2px solid var(--primary);
                        border-radius: 6px;
                        font-size: 1rem;
                        cursor: pointer;
                        margin-top: 10px;
                        font-weight: 600;
                        transition: all 0.3s ease;
                    ">Fermer la fenêtre</button>
                </div>
            </form>
        </div>
    </div>

    <div id="inventory-batch-modal" class="modal">
        <div class="modal-content" style="max-width: 600px;">
            <span class="close-modal">&times;</span>
            <h2>Créer un lot d'articles numérotés</h2>
            <form id="inventory-batch-form">
                <div class="form-group">
                    <label>Nom de base de l'article</label>
                    <input type="text" id="batch-inv-name" placeholder="Ex: Maillot Match" required>
                </div>

                <div class="form-group">
                    <label>Modèle</label>
                    <input type="text" id="batch-inv-model" placeholder="Ex: Adidas 2024" required>
                </div>

                <div class="form-group">
                    <label>Taille</label>
                    <select id="batch-inv-size" required>
                        <option value="">-- Sélectionner Taille --</option>
                        <option value="Enfant Petit">Enfant Petit</option>
                        <option value="Enfant Moyen">Enfant Moyen</option>
                        <option value="Enfant Large">Enfant Large</option>
                        <option value="Adulte Petit">Adulte Petit</option>
                        <option value="Adulte Moyen">Adulte Moyen</option>
                        <option value="Adulte Large">Adulte Large</option>
                        <option value="Adulte X-Large">Adulte X-Large</option>
                        <option value="Adulte XX-Large">Adulte XX-Large</option>
                    </select>
                </div>

                <div class="row">
                    <div class="col-6">
                        <div class="form-group">
                            <label>Premier numéro (#)</label>
                            <input type="number" id="batch-num-start" placeholder="Ex: 1" required>
                        </div>
                    </div>
                    <div class="col-6">
                        <div class="form-group">
                            <label>Dernier numéro (#)</label>
                            <input type="number" id="batch-num-end" placeholder="Ex: 10" required>
                        </div>
                    </div>
                </div>

                <div class="form-group">
                    <label>Catégorie</label>
                    <select id="batch-inv-cat">
                        <option value="Vêtements">Vêtements</option>
                        <option value="Ballons">Ballons</option>
                        <option value="Entraînement">Matériel d'entraînement</option>
                        <option value="Terrain">Terrain (Filets, Drapeaux)</option>
                        <option value="Autre">Autre</option>
                    </select>
                </div>

                <div style="margin-top: 20px;">
                    <button type="submit" class="btn-save">Générer le lot d'articles</button>
                    <button type="button" class="btn-close-custom"
                        onclick="document.getElementById('inventory-batch-modal').classList.remove('active')" style="
                        width: 100%;
                        padding: 12px;
                        background: white;
                        color: var(--primary);
                        border: 2px solid var(--primary);
                        border-radius: 6px;
                        font-size: 1rem;
                        cursor: pointer;
                        margin-top: 10px;
                        font-weight: 600;
                        transition: all 0.3s ease;
                    ">Fermer la fenêtre</button>
                </div>
            </form>
        </div>
    </div>

    <!-- SEASON MODAL -->
    <div class="modal modal-full" id="season-modal">
        <div class="modal-content">
            <span class="close-modal">&times;</span>
            <h2>Détails de la Saison</h2>

            <!-- Tabs Navigation -->
            <div class="modal-tabs">
                <div class="tab-link active" data-tab="tab-config"><i class="fas fa-cog"></i> Configuration</div>
                <div class="tab-link" data-tab="tab-activity"><i class="fas fa-shield-alt"></i> Équipes & Matchs</div>
                <div class="tab-link" data-tab="tab-analytics"><i class="fas fa-chart-line"></i> Analytique</div>
            </div>

            <form id="season-form">
                <input type="hidden" id="season-id">

                <!-- TAB: CONFIGURATION -->
                <div id="tab-config" class="tab-content active">
                    <div class="form-group">
                        <label>Type de Saison</label>
                        <select id="season-type" required>
                            <option value="summer">Été</option>
                            <option value="winter">Hiver</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label>Année</label>
                        <input type="number" id="season-year" value="2025" required>
                    </div>
                    <div class="form-group">
                        <label>Nom Affiché</label>
                        <input type="text" id="season-name" placeholder="Ex: Saison Été 2025" required>
                    </div>
                    <div class="row">
                        <div class="col-6">
                            <div class="form-group">
                                <label>Date de Début</label>
                                <input type="date" id="season-start" required>
                            </div>
                        </div>
                        <div class="col-6">
                            <div class="form-group">
                                <label>Date de Fin</label>
                                <input type="date" id="season-end" required>
                            </div>
                        </div>
                    </div>
                    <div class="form-group"
                        style="background:#f9f9f9; padding:15px; border-radius:12px; margin-top:10px;">
                        <label style="display:flex; align-items:center; cursor:pointer; margin-bottom:0;">
                            <input type="checkbox" id="season-active"
                                style="width:20px; height:20px; margin-right:10px;">
                            <span style="font-weight: 600;">Définir comme saison active (courante)</span>
                        </label>
                    </div>
                </div>

                <!-- TAB: ACTIVITY -->
                <div id="tab-activity" class="tab-content">
                    <div id="season-stats-container">
                        <div
                            style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 15px;">
                            <h4 style="margin:0;"><i class="fas fa-users"></i> Équipes de la Saison</h4>
                            <span class="badge" id="season-team-count-badge"
                                style="background:var(--primary); color:white; padding:4px 10px; border-radius:20px; font-size:0.8rem;">0
                                équipes</span>
                        </div>
                        <div id="season-teams-list"
                            style="max-height:300px; overflow-y:auto; background:#f9f9f9; padding:15px; border-radius:12px; border:1px solid #eee;">
                            <p style="color:#888; font-style:italic;">Aucune équipe pour cette saison.</p>
                        </div>

                        <h4 style="margin: 25px 0 15px;"><i class="fas fa-futbol"></i> Matchs (Aperçu)</h4>
                        <div id="season-matches-list"
                            style="max-height:300px; overflow-y:auto; background:#f9f9f9; padding:15px; border-radius:12px; border:1px solid #eee;">
                            <p style="color:#888; font-style:italic;">Aucun match enregistré pour cette période.</p>
                        </div>
                    </div>
                </div>

                <!-- TAB: ANALYTICS -->
                <div id="tab-analytics" class="tab-content">
                    <div class="analytics-grid">
                        <div class="analytics-card">
                            <h5>Équipes</h5>
                            <div class="value" id="season-stats-teams">0</div>
                        </div>
                        <div class="analytics-card">
                            <h5>Joueurs Totaux</h5>
                            <div class="value" id="season-stats-players">0</div>
                        </div>
                        <div class="analytics-card">
                            <h5>Matchs Prévus</h5>
                            <div class="value" id="season-stats-matches">0</div>
                        </div>
                        <div class="analytics-card">
                            <h5>Progression</h5>
                            <div class="value" id="season-stats-progress">0%</div>
                        </div>
                    </div>

                    <div
                        style="margin-top: 30px; background: #fff; padding: 20px; border-radius: 12px; border: 1px solid #eee;">
                        <h4>Performance Globale</h4>
                        <p style="color: #666;">Résumé des activités généré automatiquement basé sur les données de la
                            saison.</p>
                    </div>
                </div>

                <div style="margin-top: 40px; border-top: 1px solid #eee; padding-top: 20px;">
                    <button type="submit" class="btn-save">Enregistrer les modifications</button>
                    <button type="button" class="btn-close-custom"
                        onclick="document.getElementById('season-modal').classList.remove('active')" style="
                        width: 100%;
                        padding: 12px;
                        background: white;
                        color: var(--primary);
                        border: 2px solid var(--primary);
                        border-radius: 6px;
                        font-size: 1rem;
                        cursor: pointer;
                        margin-top: 10px;
                        font-weight: 600;
                        transition: all 0.3s ease;
                    ">Fermer la fenêtre</button>
                </div>
            </form>
        </div>
    </div>

    <!-- BOARD MODAL -->
    <div class="modal" id="board-modal">
        <div class="modal-content">
            <span class="close-modal">&times;</span>
            <h2>Membre du Conseil</h2>
            <form id="board-form">
                <input type="hidden" id="board-id">
                <div class="form-group">
                    <label>Nom Complet</label>
                    <input type="text" id="board-name" required>
                </div>
                <div class="form-group">
                    <label>Rôle (ex: Président, Trésorière)</label>
                    <input type="text" id="board-role" required>
                </div>
                <div class="form-group">
                    <label>Fin de mandat</label>
                    <input type="date" id="board-mandate"
                        style="width:100%; padding:10px; border:1px solid #ddd; border-radius:4px;">
                </div>
                <div class="form-group">
                    <label>Photo de profil</label>
                    <input type="file" id="board-image" accept="image/*">
                    <!-- PREVIEW CONTAINER Added -->
                    <div id="board-image-preview" class="image-preview-container image-preview-mt"></div>
                </div>
                <div class="form-group">
                    <label>Ordre d'affichage (1 = Premier)</label>
                    <input type="number" id="board-order" value="99">
                </div>
                <!-- ACTIVE CHECKBOX -->
                <div class="form-group" style="background:#f9f9f9; padding:10px; border-radius:6px; margin-top:10px;">
                    <label style="display:flex; align-items:center; cursor:pointer; margin-bottom:0;">
                        <input type="checkbox" id="board-visible" style="width:20px; height:20px; margin-right:10px;"
                            checked>
                        <span>Afficher sur le site (Actif)</span>
                    </label>
                </div>
                <button type="submit" class="btn-save">Enregistrer</button>
                <button type="button" class="btn-close-custom"
                    onclick="document.getElementById('board-modal').classList.remove('active')" style="
                    width: 100%;
                    padding: 12px;
                    background: white;
                    color: var(--primary);
                    border: 2px solid var(--primary);
                    border-radius: 6px;
                    font-size: 1rem;
                    cursor: pointer;
                    margin-top: 10px;
                    font-weight: 600;
                    transition: all 0.3s ease;
                ">Fermer</button>
            </form>
        </div>
    </div>

    <!-- REFEREE MODAL -->
    <div class="modal" id="referee-modal">
        <div class="modal-content">
            <span class="close-modal">&times;</span>
            <h2>Arbitre</h2>
            <form id="referee-form">
                <input type="hidden" id="referee-id">
                <div class="form-group">
                    <label>Nom Complet</label>
                    <input type="text" id="ref-name" required>
                </div>
                <div class="form-group">
                    <label>Photo (Optionnel)</label>
                    <input type="file" id="ref-image" accept="image/*">
                    <div id="ref-image-preview" class="image-preview-container image-preview-mt"></div>
                </div>

                <div class="form-group" style="background:#f9f9f9; padding:10px; border-radius:6px; margin-top:10px;">
                    <label style="display:flex; align-items:center; cursor:pointer; margin-bottom:0;">
                        <input type="checkbox" id="ref-visible" style="width:20px; height:20px; margin-right:10px;"
                            checked>
                        <span>Arbitre actif (Afficher sur le site)</span>
                    </label>
                </div>

                <div class="form-group">
                    <label>Indisponibilités (Dates YYYY-MM-DD, séparées par virgule)</label>
                    <textarea id="ref-unavails" class="form-control" rows="3"
                        placeholder="Ex: 2025-06-15, 2025-07-01"></textarea>
                </div>

                <div id="ref-matches-container"
                    style="margin-bottom: 15px; border-top: 1px solid #eee; padding-top: 10px;">
                    <label style="font-weight: 500; display: block; margin-bottom: 5px;">Matchs Assignés</label>
                    <div id="ref-matches-list"
                        style="max-height: 150px; overflow-y: auto; background: #f9f9f9; padding: 10px; border-radius: 6px; font-size: 0.9rem; margin-bottom: 10px;">
                        <p style="color: #888; font-style: italic;">Aucun match assigné.</p>
                    </div>

                    <div
                        style="display: flex; gap: 5px; align-items: center; border-top: 1px dashed #ddd; padding-top: 10px;">
                        <select id="ref-assign-match-select"
                            style="flex: 2; padding: 6px; border-radius: 4px; border: 1px solid #ccc; font-size: 0.85rem;">
                            <option value="">Choisir un match...</option>
                        </select>
                        <select id="ref-assign-role-select"
                            style="flex: 1; padding: 6px; border-radius: 4px; border: 1px solid #ccc; font-size: 0.85rem;">
                            <option value="refCenter">Principal</option>
                            <option value="refAsst1">Assistant 1</option>
                            <option value="refAsst2">Assistant 2</option>
                        </select>
                        <button type="button" id="btn-assign-match"
                            style="background: var(--primary); color: white; border: none; padding: 6px 12px; border-radius: 4px; cursor: pointer;">
                            <i class="fas fa-plus"></i>
                        </button>
                    </div>
                </div>

                <button type="submit" class="btn-save">Enregistrer</button>
                <button type="button" class="btn-close-custom"
                    onclick="document.getElementById('referee-modal').classList.remove('active')" style="
                    width: 100%;
                    padding: 12px;
                    background: white;
                    color: var(--primary);
                    border: 2px solid var(--primary);
                    border-radius: 6px;
                    font-size: 1rem;
                    cursor: pointer;
                    margin-top: 10px;
                    font-weight: 600;
                    transition: all 0.3s ease;
                ">Fermer</button>
            </form>
        </div>
    </div>

    <!-- REGISTRATION MODAL -->
    <div class="modal" id="registration-modal">
        <div class="modal-content">
            <span class="close-modal">&times;</span>
            <h2>Détails Inscription</h2>
            <form id="registration-form-admin">
                <input type="hidden" id="reg-id">
                <div class="form-group">
                    <label>Enfant (Prénom / Nom)</label>
                    <div style="display:flex; gap:10px;">
                        <input type="text" id="reg-child-first" placeholder="Prénom" required>
                        <input type="text" id="reg-child-last" placeholder="Nom" required>
                    </div>
                </div>
                <div class="form-group">
                    <label>Parent (Prénom / Nom)</label>
                    <div style="display:flex; gap:10px;">
                        <input type="text" id="reg-parent-first" placeholder="Prénom" required>
                        <input type="text" id="reg-parent-last" placeholder="Nom" required>
                    </div>
                </div>
                <div class="form-group">
                    <label>Contact</label>
                    <input type="email" id="reg-email" placeholder="Courriel" required>
                    <input type="tel" id="reg-phone" placeholder="Téléphone" style="margin-top:5px;">
                </div>
                <div class="form-group">
                    <label>Programme</label>
                    <select id="reg-program" required>
                        <option value="U4-U6">Timbits (U4-U6)</option>
                        <option value="U7-U10">LSCP (U7-U10)</option>
                        <option value="U11-U12">Ligue de Développement (U11-U12)</option>
                        <option value="U13-U18">Compétitif (U13-U18)</option>
                    </select>
                </div>
                <div class="form-group">
                    <label>Statut</label>
                    <select id="reg-status">
                        <option value="New">Nouveau</option>
                        <option value="Paid">Payé</option>
                        <option value="Completed">Terminé</option>
                    </select>
                </div>
                <button type="submit" class="btn-save">Enregistrer</button>
            </form>
        </div>
    </div>

    <!-- ADMIN MODAL -->
    <div class="modal" id="admin-modal">
        <div class="modal-content">
            <span class="close-modal">&times;</span>
            <h2>Utilisateur Plateforme</h2>
            <form id="admin-form">
                <input type="hidden" id="admin-id">
                <div class="form-group">
                    <label>Email (ID de connexion)</label>
                    <input type="email" id="admin-email" required>
                </div>
                <div class="form-group">
                    <label>Nom</label>
                    <input type="text" id="admin-name" required>
                </div>
                <div class="form-group">
                    <label>Rôles / Permissions</label>
                    <div id="roles-checkbox-group"
                        style="display: grid; grid-template-columns: 1fr 1fr; gap: 10px; background: #f9f9f9; padding: 10px; border-radius: 8px; border: 1px solid #ddd;">
                        <label
                            style="display:flex; align-items:center; font-weight:normal; font-size:0.9rem; cursor:pointer;">
                            <input type="checkbox" value="SuperAdmin"
                                style="width:18px; height:18px; margin-right:8px;"> SuperAdmin (Accès total)
                        </label>
                        <label
                            style="display:flex; align-items:center; font-weight:normal; font-size:0.9rem; cursor:pointer;">
                            <input type="checkbox" value="Equipes" style="width:18px; height:18px; margin-right:8px;">
                            Équipes & Coachs
                        </label>
                        <label
                            style="display:flex; align-items:center; font-weight:normal; font-size:0.9rem; cursor:pointer;">
                            <input type="checkbox" value="Boutique" style="width:18px; height:18px; margin-right:8px;">
                            Boutique & Inventaire
                        </label>
                        <label
                            style="display:flex; align-items:center; font-weight:normal; font-size:0.9rem; cursor:pointer;">
                            <input type="checkbox" value="Club" style="width:18px; height:18px; margin-right:8px;"> C.A.
                            & Arbitres
                        </label>
                        <label
                            style="display:flex; align-items:center; font-weight:normal; font-size:0.9rem; cursor:pointer;">
                            <input type="checkbox" value="Inscriptions"
                                style="width:18px; height:18px; margin-right:8px;"> Inscriptions
                        </label>
                        <label
                            style="display:flex; align-items:center; font-weight:normal; font-size:0.9rem; cursor:pointer;">
                            <input type="checkbox" value="Matchs" style="width:18px; height:18px; margin-right:8px;">
                            Matchs (Calendrier)
                        </label>
                        <label
                            style="display:flex; align-items:center; font-weight:normal; font-size:0.9rem; cursor:pointer;">
                            <input type="checkbox" value="Config" style="width:18px; height:18px; margin-right:8px;">
                            Configuration
                        </label>
                    </div>
                </div>
                <button type="submit" class="btn-save">Enregistrer</button>
            </form>
        </div>
    </div>

    <!-- Coach Modal -->
    <div class="modal" id="coach-modal">
        <div class="modal-content">
            <span class="close-modal">&times;</span>
            <h2>Entraîneur</h2>
            <form id="coach-form">
                <input type="hidden" id="coach-id">

                <div class="form-group">
                    <label>Nom Complet</label>
                    <input type="text" id="coach-name" required>
                </div>

                <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 15px;">
                    <div class="form-group">
                        <label>Expiration Filiation Policière</label>
                        <input type="date" id="coach-police-expiry">
                    </div>
                    <div class="form-group">
                        <label>Formation Sport et Respect</label>
                        <input type="date" id="coach-sport-respect-expiry">
                    </div>
                </div>

                <div class="form-group">
                    <label>Photo</label>
                    <input type="file" id="coach-image" accept="image/*">
                    <div id="coach-image-preview" class="image-preview-container image-preview-mt"></div>
                </div>

                <div class="form-group" style="background:#f9f9f9; padding:10px; border-radius:6px; margin-top:10px;">
                    <label style="display:flex; align-items:center; cursor:pointer; margin-bottom:0;">
                        <input type="checkbox" id="coach-visible" style="width:20px; height:20px; margin-right:10px;"
                            checked>
                        <span>Coach actif (Afficher sur le site)</span>
                    </label>
                </div>

                <!-- Assigned Inventory -->
                <div id="coach-inventory-container"
                    style="margin-top: 15px; border-top: 1px solid #eee; padding-top: 10px;">
                    <label style="font-weight: 500; display: block; margin-bottom: 5px;">Inventaire Assigné</label>
                    <div id="coach-inventory-list"
                        style="max-height: 150px; overflow-y: auto; background: #f9f9f9; padding: 10px; border-radius: 6px; font-size: 0.9rem; margin-bottom: 10px;">
                        <p style="color: #888; font-style: italic;">Chargement...</p>
                    </div>
                </div>

                <!-- Assigned Teams -->
                <div id="coach-teams-container"
                    style="margin-top: 15px; border-top: 1px solid #eee; padding-top: 10px; margin-bottom: 15px;">
                    <label style="font-weight: 500; display: block; margin-bottom: 5px;">Équipes Assignées</label>
                    <div id="coach-teams-list"
                        style="max-height: 100px; overflow-y: auto; background: #f9f9f9; padding: 10px; border-radius: 6px; font-size: 0.9rem;">
                        <p style="color: #888; font-style: italic;">Fonctionnalité en développement.</p>
                    </div>
                </div>

                <button type="submit" class="btn-save">Enregistrer</button>
                <button type="button" class="btn-secondary" id="close-coach-modal-btn"
                    style="margin-top: 10px; width: 100%; background: white; border: 1px solid var(--primary, #00563B); color: var(--primary, #00563B);">Fermer</button>
            </form>
        </div>
    </div>

    <!-- Field Modal -->
    <div class="modal" id="field-modal">
        <div class="modal-content">
            <span class="close-modal">&times;</span>
            <h2>Terrain</h2>
            <form id="field-form">
                <input type="hidden" id="field-id">
                <div class="form-group">
                    <label>Nom du Terrain</label>
                    <input type="text" id="field-name" required placeholder="Ex: Terrain Principal (Nord)">
                </div>
                <div class="form-group">
                    <label>Adresse / Localisation</label>
                    <input type="text" id="field-location" placeholder="Ex: 123 Rue du Parc / Lien Google Maps">
                </div>
                <div class="form-group">
                    <label>Type de surface</label>
                    <select id="field-type">
                        <option value="gazon">Gazon Naturel</option>
                        <option value="synthetique">Synthétique</option>
                        <option value="gymnase">Gymnase (Intérieur)</option>
                    </select>
                </div>
                <button type="submit" class="btn-save">Enregistrer</button>
                <button type="button" class="btn-close-custom"
                    onclick="document.getElementById('field-modal').classList.remove('active')" style="
                    width: 100%;
                    padding: 12px;
                    background: white;
                    color: var(--primary);
                    border: 2px solid var(--primary);
                    border-radius: 6px;
                    font-size: 1rem;
                    cursor: pointer;
                    margin-top: 10px;
                    font-weight: 600;
                    transition: all 0.3s ease;
                ">Fermer</button>
            </form>
        </div>
    </div>

    <!-- Match Modal -->
    <div class="modal" id="match-modal">
        <div class="modal-content">
            <span class="close-modal">&times;</span>
            <h2>Détails du Match</h2>
            <form id="match-form">
                <input type="hidden" id="match-id">
                <div class="form-group">
                    <label>Date</label>
                    <input type="date" id="match-date" required>
                </div>
                <div class="form-group">
                    <label>Heure</label>
                    <input type="time" id="match-time" required>
                </div>
                <div class="form-group">
                    <label>Catégorie</label>
                    <select id="match-category">
                        <option value="U9">U9</option>
                        <option value="U10">U10</option>
                        <option value="U11">U11</option>
                        <option value="U12">U12</option>
                        <option value="U13">U13</option>
                        <option value="U14">U14</option>
                        <option value="U15">U15</option>
                        <option value="U16">U16</option>
                        <option value="U17">U17</option>
                        <option value="U18">U18</option>
                        <option value="Senior">Senior</option>
                    </select>
                </div>
                <div class="form-group">
                    <label>Adversaire</label>
                    <input type="text" id="match-opponent" placeholder="Ex: CS Dieppe, Codiac..." required>
                </div>
                <div class="form-group">
                    <label>Terrains</label>
                    <div style="display: flex; gap: 10px; margin-bottom: 10px;">
                        <select id="match-field-add-select" style="flex-grow: 1;">
                            <option value="">Ajouter un terrain...</option>
                        </select>
                        <button type="button" class="btn-action" id="btn-add-match-field"><i
                                class="fas fa-plus"></i></button>
                    </div>
                    <div id="match-fields-list"
                        style="display: flex; flex-wrap: wrap; gap: 8px; min-height: 40px; padding: 10px; border: 1px dashed #ccc; border-radius: 6px;">
                        <!-- JS Will Populate Tags -->
                    </div>
                </div>
                <hr style="margin: 15px 0;">
                <h4>Assignation Arbitres</h4>
                <div class="form-group">
                    <label>Arbitre Central</label>
                    <select id="match-ref-center">
                        <option value="">-- Non assigné --</option>
                    </select>
                </div>
                <div class="form-group">
                    <label>Assistant 1</label>
                    <select id="match-ref-asst1">
                        <option value="">-- Non assigné --</option>
                    </select>
                </div>
                <div class="form-group">
                    <label>Assistant 2</label>
                    <select id="match-ref-asst2">
                        <option value="">-- Non assigné --</option>
                    </select>
                </div>

                <div class="form-group" style="background:#f9f9f9; padding:10px; border-radius:6px; margin-top:10px;">
                    <label style="display:flex; align-items:center; cursor:pointer; margin-bottom:0;">
                        <input type="checkbox" id="match-played" style="width:20px; height:20px; margin-right:10px;">
                        <span>Match Joué</span>
                    </label>
                </div>

                <button type="submit" class="btn-save">Enregistrer</button>
                <button type="button" class="btn-close-custom"
                    onclick="document.getElementById('match-modal').classList.remove('active')" style="
                    width: 100%;
                    padding: 12px;
                    background: white;
                    color: var(--primary);
                    border: 2px solid var(--primary);
                    border-radius: 6px;
                    font-size: 1rem;
                    cursor: pointer;
                    margin-top: 10px;
                    font-weight: 600;
                    transition: all 0.3s ease;
                ">Fermer</button>
            </form>
        </div>
    </div>

    <!-- SPONSOR MODAL -->
    <div class="modal" id="sponsor-modal">
        <div class="modal-content">
            <span class="close-modal">&times;</span>
            <h2>Commanditaire</h2>
            <form id="sponsor-form">
                <input type="hidden" id="sponsor-id">
                <div class="form-group">
                    <label>Nom de l'entreprise</label>
                    <input type="text" id="sponsor-name" required>
                </div>
                <div class="form-group">
                    <label>Logo</label>
                    <input type="file" id="sponsor-image" accept="image/*">
                    <div id="sponsor-image-preview" class="image-preview-container image-preview-mt"></div>
                </div>
                <div class="form-group">
                    <label>Lien site web</label>
                    <input type="url" id="sponsor-url" placeholder="https://...">
                </div>
                <div class="form-group" style="background:#f9f9f9; padding:10px; border-radius:6px; margin-top:10px;">
                    <label style="display:flex; align-items:center; cursor:pointer;">
                        <input type="checkbox" id="sponsor-visible" style="width:20px; height:20px; margin-right:10px;"
                            checked>
                        <span>Afficher sur le site</span>
                    </label>
                </div>
                <button type="submit" class="btn-save">Enregistrer</button>
            </form>
        </div>
    </div>

    <!-- Team Modal -->
    <div class="modal" id="team-modal">
        <div class="modal-content">
            <span class="close-modal">&times;</span>
            <h2>Détails Équipe</h2>
            <form id="team-form">
                <input type="hidden" id="team-id">
                <div class="form-group" style="display:none;">
                    <label>Nom de l'équipe</label>
                    <input type="text" id="team-name" placeholder="Généré automatiquement">
                </div>
                <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 15px;">
                    <div class="form-group">
                        <label>Catégorie</label>
                        <select id="team-category">
                            <option value="U4">U4</option>
                            <option value="U5">U5</option>
                            <option value="U6">U6</option>
                            <option value="U7">U7</option>
                            <option value="U8">U8</option>
                            <option value="U9">U9</option>
                            <option value="U10">U10</option>
                            <option value="U11">U11</option>
                            <option value="U12">U12</option>
                            <option value="U13">U13</option>
                            <option value="U14">U14</option>
                            <option value="U15">U15</option>
                            <option value="U16">U16</option>
                            <option value="U17">U17</option>
                            <option value="U18">U18</option>
                            <option value="Senior">Senior</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label>Sexe</label>
                        <select id="team-gender">
                            <option value="Mixte">Mixte</option>
                            <option value="Masculin">Masculin</option>
                            <option value="Féminin">Féminin</option>
                        </select>
                    </div>
                </div>

                <div class="form-group">
                    <label>Saison</label>
                    <select id="team-season" required>
                        <option value="">-- Choisir une saison --</option>
                    </select>
                </div>

                <div class="form-group">
                    <label>Assignation Entraîneurs</label>
                    <div style="display: flex; gap: 10px; margin-bottom: 10px;">
                        <select id="team-coach-add-select" style="flex-grow: 1;">
                            <option value="">Ajouter un entraîneur...</option>
                        </select>
                        <button type="button" class="btn-action" id="btn-add-team-coach"><i
                                class="fas fa-plus"></i></button>
                    </div>
                    <div id="team-coaches-list"
                        style="display: flex; flex-wrap: wrap; gap: 8px; min-height: 40px; padding: 10px; border: 1px dashed #ccc; border-radius: 6px;">
                        <!-- JS Will Populate Tags -->
                    </div>
                </div>

                <!-- Assigned Players -->
                <div id="team-players-container"
                    style="margin-top: 15px; border-top: 1px solid #eee; padding-top: 10px; margin-bottom: 15px;">
                    <label style="font-weight: 500; display: block; margin-bottom: 5px;">Joueurs</label>
                    <div id="team-players-list"
                        style="max-height: 200px; overflow-y: auto; background: #f9f9f9; padding: 10px; border-radius: 6px; font-size: 0.9rem; margin-bottom: 10px;">
                        <p style="color: #888; font-style: italic;">Chargement...</p>
                    </div>

                    <!-- Add Player Section -->
                    <div
                        style="display: flex; gap: 5px; align-items: center; border-top: 1px dashed #ddd; padding-top: 10px;">
                        <select id="team-add-player-select"
                            style="flex: 1; padding: 6px; border-radius: 4px; border: 1px solid #ccc; font-size: 0.85rem;">
                            <option value="">Ajouter un joueur...</option>
                        </select>
                        <button type="button" id="btn-add-player-to-team"
                            style="background: var(--primary); color: white; border: none; padding: 6px 12px; border-radius: 4px; cursor: pointer;">
                            <i class="fas fa-plus"></i>
                        </button>
                    </div>
                </div>

                <button type="submit" class="btn-save">Enregistrer</button>
            </form>
        </div>
    </div>

    <!-- Custom Notification/Confirmation Modals -->
    <div id="custom-alert-modal" class="modal">
        <div class="modal-content" style="max-width: 400px; text-align: center;">
            <span class="close-modal"
                onclick="document.getElementById('custom-alert-modal').classList.remove('active')">&times;</span>
            <div style="margin: 20px 0;">
                <i id="alert-icon" class="fas fa-info-circle" style="font-size: 3rem; color: var(--primary);"></i>
            </div>
            <p id="alert-message" style="font-size: 1.1rem; margin: 20px 0;"></p>
            <button onclick="document.getElementById('custom-alert-modal').classList.remove('active')" class="btn-save"
                style="margin-top: 10px;">OK</button>
        </div>
    </div>

    <div id="custom-confirm-modal" class="modal">
        <div class="modal-content" style="max-width: 400px; text-align: center;">
            <span class="close-modal"
                onclick="document.getElementById('custom-confirm-modal').classList.remove('active')">&times;</span>
            <div style="margin: 20px 0;">
                <i class="fas fa-question-circle" style="font-size: 3rem; color: var(--warning);"></i>
            </div>
            <p id="confirm-message" style="font-size: 1.1rem; margin: 20px 0;"></p>
            <div style="display: flex; gap: 10px; justify-content: center; margin-top: 20px;">
                <button id="confirm-cancel-btn" class="btn-secondary"
                    style="background: #6c757d; flex: 1;">Annuler</button>
                <button id="confirm-ok-btn" class="btn-save" style="flex: 1;">Confirmer</button>
            </div>
        </div>
    </div>

    <!-- Players List Modal -->
    <div class="modal" id="players-list-modal">
        <div class="modal-content" style="max-width: 800px;">
            <span class="close-modal">&times;</span>
            <h2>Joueurs de la saison</h2>
            <div class="table-container" style="max-height: 600px; overflow-y: auto;">
                <table id="modal-players-table">
                    <thead>
                        <tr>
                            <th>Prénom</th>
                            <th>Nom</th>
                            <th>Équipe</th>
                            <th>Naissance</th>
                        </tr>
                    </thead>
                    <tbody id="modal-players-list">
                        <tr>
                            <td colspan="4" style="text-align:center;">Chargement...</td>
                        </tr>
                    </tbody>
                </table>
            </div>
            <div style="text-align: right; margin-top: 15px;">
                <button class="btn-secondary close-modal-btn">Fermer</button>
            </div>
        </div>
    </div>

    <!-- Main Logic -->
    <script type="module" src="./js/app.js?v=2.3"></script>
    <script src="./js/search.js?v=1.0"></script>
</body>

</html>